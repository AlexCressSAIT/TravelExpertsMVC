@{ List<CartItemViewModel> Model = Context.Session.GetObject<List<CartItemViewModel>>("cartItems"); }
@{ bool CartIsEmpty = (Model == null || Model.Count == 0) ? true : false; }
@{ decimal totalPrice = 0m; }
@{
    ViewData["Title"] = "Shopping Cart";
} 
<br />
<br />
<div class="row">
    @*<partial name="_BookingSideMenuPartial" />*@
    <div class="col-sm-3">
        <div style=" width: 175px; height: 175px; padding-top:35px" class="text-center jumbotron mx-auto">
            <i style="font-size:96px;" class="fas fa-user"></i>
        </div>
    </div>
    <div style="padding-top:0;" class="col-sm-8 card px-0 jumbotron">
        <div class="container-fluid ">
            <div class="row">
                <h4 class="col-sm pl-2 py-2 cartHeader">Cart</h4>
            </div>
            <div class="row ">
                <div class="col m-auto">
                    <div class="container">
                        @if (CartIsEmpty)
                        {
                            <h3 style="color:#fff" class="text-center font-italic my-auto">Cart is empty</h3>
                        }
                        else
                        {
                            @foreach (var cartItem in Model)
                            {

                                totalPrice += (cartItem.Package.PkgBasePrice * Convert.ToDecimal(cartItem.NumTravelers));

                                <div style="padding-top: 36px; padding-bottom:36px" class="row mt-3 jumbotron">
                                    <div class="siteFont"><h3 class="font-weight-bold">@cartItem.Package.PkgName </h3></div>
                                    <div class="siteFont"><span class="font-italic">&quot;@cartItem.Package.PkgDesc &quot;</span></div>
                                    <div class="siteFont">&ensp;-&ensp;<span class="font-weight-bold">@cartItem.TripDuration days </span></div>
                                    <div class="siteFont"><span class="font-weight-bold">@cartItem.NumTravelers guests x @cartItem.Package.PkgBasePrice.ToString("c") </span></div>
                                </div>
                            }
                        }

                        @if (!CartIsEmpty)
                        {
                            <div class="text-center">
                                <div class="siteFont"><span >Total:</span> @totalPrice.ToString("c") </div>
                                <hr class="blueRule" />
                                <a class="btn btn-primary siteFont" asp-controller="Booking" asp-action="Checkout">Checkout</a>
                            </div>
                                
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>