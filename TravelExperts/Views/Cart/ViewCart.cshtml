@{ List<CartItemViewModel> Model = Context.Session.GetObject<List<CartItemViewModel>>("cartItems"); }
@{ bool CartIsEmpty = (Model == null || Model.Count == 0) ? true : false; }
@{ decimal totalPrice = 0m; }
@{
    ViewData["Title"] = "Shopping Cart";
} 

<h1>Cart</h1>

<div class="row">
    @*<partial name="_BookingSideMenuPartial" />*@

    <div style="padding-top:0;" class="col-sm card px-0 jumbotron">
        <div class="container-fluid ">
            <div class="row">
                <h4  class="col-sm pl-2 py-2 cartHeader">Cart</h4>
            </div>
            <div class="row ">
                <div class="col m-auto">
                    <div class="container">
                        @if (CartIsEmpty)
                        {
                        <h3 style="color:#fff" class="text-center font-italic my-auto">Cart is empty</h3>
                        }
                        else
                        {
                            @foreach (var cartItem in Model)
                            {

                                totalPrice += (cartItem.Package.PkgBasePrice * Convert.ToDecimal(cartItem.NumTravelers));

                                <div class="row mt-3 card border-white">
                                    <div class="col-12"><h3 class="font-weight-bold">@cartItem.Package.PkgName </h3></div>
                                    <div class="col-12"><span class="font-italic">&quot;@cartItem.Package.PkgDesc &quot;</span></div>
                                    <div class="col-12"><span class="font-weight-bold">@cartItem.TripDuration days </span></div>
                                </div>
                            }
                        }

                        @if (!CartIsEmpty)
                        {
                            <div class="row">
                                <div class="col-12"><span class="font-weight-bold">Total:</span> @totalPrice.ToString("c") </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>